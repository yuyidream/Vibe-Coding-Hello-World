<!-- 
Rule文件（通常命名为.cursorrules或rules.md，这2个文件会默认被cursor阅读）是Cursor编辑器特有的配置文件，用于为当前项目或目录设置特定的AI行为规则。它告诉Cursor AI在编写或修改代码时应遵循的编码规则、代码风格、技术栈要求等。

Rule文件的受众是Cursor AI，让AI了解如何编写符合项目要求的代码。
Rule文件在Cursor编辑器中由AI读取，用于代码生成和编辑。
主要特点：
- 针对性：通常针对特定项目或目录，定义该项目的编码规范、技术栈、框架使用规则等。
- 指令性：包含具体的指令，例如"使用TypeScript而不是JavaScript"、"遵循Airbnb代码风格"等。
- 影响AI行为：Cursor AI在生成代码或修改代码时会参考这些规则，以确保生成的代码符合项目要求。
-->

# 项目规则

## 命令使用环境告知（重要：必须严格遵守）
- **每次需要运行的命令，都要告知是在哪个环境（cursor终端/本地powershell/服务器，三选一）的哪个目录下运行：**

## 技术栈要求（重要：必须严格遵守）

### 1. 编程语言
- **主语言：Python**（为了配合AI，必须使用Python且不可更改）


### 2. 基础设施

#### 2.1 云服务器
- ****使用云服务器ECS（当前云服务商：华为云）**
- **ECS配置：**
  - 操作系统：Ubuntu LTS（当前版本：Ubuntu 22.04）
  - 不使用CentOS

#### 2.2 Web服务
- **Web服务器：Nginx**
- 

#### 2.3 数据库
-**关系型数据库：云RDS for MySQL（当前云服务商：华为云）**
  - 当前：MySQL 5.7.38
  - 使用内网连接（VPC内部）
  - 初期1台，必要时增加数量做主备/读写分离
- **缓存：云Redis**（当前云服务商：华为云）
- **对象存储：云OBS**（当前云服务商：华为云）

### 3. 后端框架

#### 3.1 Web框架
- **FastAPI**
  - 异步支持
  - 自动API文档
  - 性能更优

#### 3.2 异步任务处理
- **Celery**：分布式任务队列
- **RabbitMQ**：消息队列中间件



### 4. 前端框架

#### 4.1 Web前端
- **Vue 3**


#### 4.2 跨平台（按需）
- **uni-app**
  - 用于需要小程序/APP时
  - 不需要支持3D、AR、高性能动画等特别复杂的交互

### 5. 部署架构

#### 5.1 容器化
- **Docker Compose**（初期）
  - 适用于单机或小规模部署
  - 配合云服务商的VPC

#### 5.2 网络架构（等保三级预留）
- **VPC划分：**
  - 在ECS所在VPC下创建多个子网
  - 使用安全组 + 网络ACL实现逻辑隔离


#### 5.3 容器编排（按需）
- **Kubernetes (K8s)**
  - 业务增长后再引入
  - 用于多实例、自动扩缩容

### 6. DevOps

#### 6.1 版本控制
- **Git + GitHub**
  - 主分支：main
  - 开发分支：develop
  - 功能分支：feature/*

#### 6.2 CI/CD
- **GitHub Actions**
  - 自动化测试
  - 自动化构建Docker镜像
  - 自动化部署到服务器



### 7. 日志和监控

#### 7.1 日志
- **云日志服务（当前云服务商：华为云）**


#### 7.2 监控
- **云监控服务（当前云服务商：华为云）**
- 

### 8. 安全

#### 8.1 云安全服务
- **云安全服务（当前云服务商：华为云）**
  


### 9. 代码规范

#### 9.1 Python代码
- 遵循PEP 8


## 开发原则

1. **渐进式架构**：从简单开始，按需扩展
2. **云原生优先**：优先使用云服务商提供的服务
3. **安全第一**：遵循安全最佳实践
4. **文档完善**：代码即文档，文档即代码
5. **测试驱动**：关键功能必须有测试覆盖